<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>ChibiOS/RT: Objects Caches</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT
   &#160;<span id="projectnumber">7.0.2</span>
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__oslib__objchaches.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Objects Caches<div class="ingroups"><a class="el" href="group__oslib.html">OS Library</a> &raquo; <a class="el" href="group__oslib__complex.html">Complex Services</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Objects Caches:</div>
<div class="dyncontent">
<div class="center"><img src="group__oslib__objchaches.png" border="0" usemap="#agroup____oslib____objchaches" alt=""/></div>
<map name="agroup____oslib____objchaches" id="agroup____oslib____objchaches">
<area shape="rect" href="group__oslib__complex.html" title=" " alt="" coords="5,5,123,28"/>
<area shape="rect" title=" " alt="" coords="171,5,277,28"/>
</map>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Cached objects flags</h2></td></tr>
<tr class="memitem:ga1db46134d4840f9ea0e42a2ff35ed4b5"><td class="memItemLeft" align="right" valign="top"><a id="ga1db46134d4840f9ea0e42a2ff35ed4b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OC_FLAG_INLRU</b>&#160;&#160;&#160;0x00000001U</td></tr>
<tr class="separator:ga1db46134d4840f9ea0e42a2ff35ed4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae00d696af2baeab81a3a3a2513a77060"><td class="memItemLeft" align="right" valign="top"><a id="gae00d696af2baeab81a3a3a2513a77060"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OC_FLAG_INHASH</b>&#160;&#160;&#160;0x00000002U</td></tr>
<tr class="separator:gae00d696af2baeab81a3a3a2513a77060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fbf39e23423604ecdefca0d1d3e6a7e"><td class="memItemLeft" align="right" valign="top"><a id="ga7fbf39e23423604ecdefca0d1d3e6a7e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OC_FLAG_SHARED</b>&#160;&#160;&#160;0x00000004U</td></tr>
<tr class="separator:ga7fbf39e23423604ecdefca0d1d3e6a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd06f6e089bddb3bc035e0e8af2d2817"><td class="memItemLeft" align="right" valign="top"><a id="gabd06f6e089bddb3bc035e0e8af2d2817"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OC_FLAG_NOTSYNC</b>&#160;&#160;&#160;0x00000008U</td></tr>
<tr class="separator:gabd06f6e089bddb3bc035e0e8af2d2817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga155bf2534e2cb630205e35e91a654d2d"><td class="memItemLeft" align="right" valign="top"><a id="ga155bf2534e2cb630205e35e91a654d2d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OC_FLAG_LAZYWRITE</b>&#160;&#160;&#160;0x00000010U</td></tr>
<tr class="separator:ga155bf2534e2cb630205e35e91a654d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d60ae0a33617b112488a004c5ab126f"><td class="memItemLeft" align="right" valign="top"><a id="ga4d60ae0a33617b112488a004c5ab126f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OC_FLAG_FORGET</b>&#160;&#160;&#160;0x00000020U</td></tr>
<tr class="separator:ga4d60ae0a33617b112488a004c5ab126f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gad346dd43bc3a29f8c003563d32dbac4b"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#gad346dd43bc3a29f8c003563d32dbac4b">oc_flags_t</a></td></tr>
<tr class="memdesc:gad346dd43bc3a29f8c003563d32dbac4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags of cached objects.  <a href="group__oslib__objchaches.html#gad346dd43bc3a29f8c003563d32dbac4b">More...</a><br /></td></tr>
<tr class="separator:gad346dd43bc3a29f8c003563d32dbac4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3da3300df4b568e5d40c99facffa0069"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structch__oc__hash__header.html">ch_oc_hash_header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga3da3300df4b568e5d40c99facffa0069">oc_hash_header_t</a></td></tr>
<tr class="memdesc:ga3da3300df4b568e5d40c99facffa0069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of an hash element header.  <a href="group__oslib__objchaches.html#ga3da3300df4b568e5d40c99facffa0069">More...</a><br /></td></tr>
<tr class="separator:ga3da3300df4b568e5d40c99facffa0069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab521cefd6a7a67b1d972fc00f2f941f9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structch__oc__lru__header.html">ch_oc_lru_header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#gab521cefd6a7a67b1d972fc00f2f941f9">oc_lru_header_t</a></td></tr>
<tr class="memdesc:gab521cefd6a7a67b1d972fc00f2f941f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of an LRU element header.  <a href="group__oslib__objchaches.html#gab521cefd6a7a67b1d972fc00f2f941f9">More...</a><br /></td></tr>
<tr class="separator:gab521cefd6a7a67b1d972fc00f2f941f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga259b80c134d102bf119c70c81bbe184d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structch__oc__object.html">ch_oc_object</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a></td></tr>
<tr class="memdesc:ga259b80c134d102bf119c70c81bbe184d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a cached object.  <a href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">More...</a><br /></td></tr>
<tr class="separator:ga259b80c134d102bf119c70c81bbe184d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7184c1f5abb0813e1bd86a34750b784c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structch__objects__cache.html">ch_objects_cache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a></td></tr>
<tr class="memdesc:ga7184c1f5abb0813e1bd86a34750b784c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a cache object.  <a href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">More...</a><br /></td></tr>
<tr class="separator:ga7184c1f5abb0813e1bd86a34750b784c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ca267014e86fd0c4221d419669810e8"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga4ca267014e86fd0c4221d419669810e8">oc_readf_t</a>) (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp, bool async)</td></tr>
<tr class="memdesc:ga4ca267014e86fd0c4221d419669810e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object read function.  <a href="group__oslib__objchaches.html#ga4ca267014e86fd0c4221d419669810e8">More...</a><br /></td></tr>
<tr class="separator:ga4ca267014e86fd0c4221d419669810e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92d757f063c0a8b4bc663694323801df"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga92d757f063c0a8b4bc663694323801df">oc_writef_t</a>) (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp, bool async)</td></tr>
<tr class="memdesc:ga92d757f063c0a8b4bc663694323801df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object write function.  <a href="group__oslib__objchaches.html#ga92d757f063c0a8b4bc663694323801df">More...</a><br /></td></tr>
<tr class="separator:ga92d757f063c0a8b4bc663694323801df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structch__oc__hash__header.html">ch_oc_hash_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an hash table element.  <a href="structch__oc__hash__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structch__oc__lru__header.html">ch_oc_lru_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an hash table element.  <a href="structch__oc__lru__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structch__oc__object.html">ch_oc_object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a cached object.  <a href="structch__oc__object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structch__objects__cache.html">ch_objects_cache</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a cache object.  <a href="structch__objects__cache.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf141f01c4977b04022dc45e51d67bea3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#gaf141f01c4977b04022dc45e51d67bea3">hash_get_s</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, uint32_t group, uint32_t key)</td></tr>
<tr class="memdesc:gaf141f01c4977b04022dc45e51d67bea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an object pointer from the cache, if present.  <a href="group__oslib__objchaches.html#gaf141f01c4977b04022dc45e51d67bea3">More...</a><br /></td></tr>
<tr class="separator:gaf141f01c4977b04022dc45e51d67bea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa34cea589fdb1b400b6d6739eae9e613"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#gaa34cea589fdb1b400b6d6739eae9e613">lru_get_last_s</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp)</td></tr>
<tr class="memdesc:gaa34cea589fdb1b400b6d6739eae9e613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the least recently used object buffer from the LRU list.  <a href="group__oslib__objchaches.html#gaa34cea589fdb1b400b6d6739eae9e613">More...</a><br /></td></tr>
<tr class="separator:gaa34cea589fdb1b400b6d6739eae9e613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga166f686a6f05a5e277a0fb1f391bebec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga166f686a6f05a5e277a0fb1f391bebec">chCacheObjectInit</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__os__structures.html#gac8c7a7592968de0dc5a8d6ebe7fa700e">ucnt_t</a> hashn, <a class="el" href="group__oslib__objchaches.html#ga3da3300df4b568e5d40c99facffa0069">oc_hash_header_t</a> *hashp, <a class="el" href="group__os__structures.html#gac8c7a7592968de0dc5a8d6ebe7fa700e">ucnt_t</a> objn, size_t objsz, void *objvp, <a class="el" href="group__oslib__objchaches.html#ga4ca267014e86fd0c4221d419669810e8">oc_readf_t</a> readf, <a class="el" href="group__oslib__objchaches.html#ga92d757f063c0a8b4bc663694323801df">oc_writef_t</a> writef)</td></tr>
<tr class="memdesc:ga166f686a6f05a5e277a0fb1f391bebec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <code>objects_cache_t</code> object.  <a href="group__oslib__objchaches.html#ga166f686a6f05a5e277a0fb1f391bebec">More...</a><br /></td></tr>
<tr class="separator:ga166f686a6f05a5e277a0fb1f391bebec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54a287fa5e7dbc735d7b04602f1cfc52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga54a287fa5e7dbc735d7b04602f1cfc52">chCacheGetObject</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, uint32_t group, uint32_t key)</td></tr>
<tr class="memdesc:ga54a287fa5e7dbc735d7b04602f1cfc52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an object from the cache.  <a href="group__oslib__objchaches.html#ga54a287fa5e7dbc735d7b04602f1cfc52">More...</a><br /></td></tr>
<tr class="separator:ga54a287fa5e7dbc735d7b04602f1cfc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga788c5c3b16f83849975e8c6abf5e2d7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga788c5c3b16f83849975e8c6abf5e2d7d">chCacheReleaseObjectI</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp)</td></tr>
<tr class="memdesc:ga788c5c3b16f83849975e8c6abf5e2d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases an object into the cache.  <a href="group__oslib__objchaches.html#ga788c5c3b16f83849975e8c6abf5e2d7d">More...</a><br /></td></tr>
<tr class="separator:ga788c5c3b16f83849975e8c6abf5e2d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga105576c78186685ce2ea7d71769ecca4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga105576c78186685ce2ea7d71769ecca4">chCacheReadObject</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp, bool async)</td></tr>
<tr class="memdesc:ga105576c78186685ce2ea7d71769ecca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads object data from the storage.  <a href="group__oslib__objchaches.html#ga105576c78186685ce2ea7d71769ecca4">More...</a><br /></td></tr>
<tr class="separator:ga105576c78186685ce2ea7d71769ecca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3631a5266044d18aa4365e946a9c379f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#ga3631a5266044d18aa4365e946a9c379f">chCacheWriteObject</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp, bool async)</td></tr>
<tr class="memdesc:ga3631a5266044d18aa4365e946a9c379f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the object data back to storage.  <a href="group__oslib__objchaches.html#ga3631a5266044d18aa4365e946a9c379f">More...</a><br /></td></tr>
<tr class="separator:ga3631a5266044d18aa4365e946a9c379f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6d32867a94583b0352d1dbadad38898"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__oslib__objchaches.html#gab6d32867a94583b0352d1dbadad38898">chCacheReleaseObject</a> (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp)</td></tr>
<tr class="memdesc:gab6d32867a94583b0352d1dbadad38898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases an object into the cache.  <a href="group__oslib__objchaches.html#gab6d32867a94583b0352d1dbadad38898">More...</a><br /></td></tr>
<tr class="separator:gab6d32867a94583b0352d1dbadad38898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gad346dd43bc3a29f8c003563d32dbac4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad346dd43bc3a29f8c003563d32dbac4b">&#9670;&nbsp;</a></span>oc_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__oslib__objchaches.html#gad346dd43bc3a29f8c003563d32dbac4b">oc_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags of cached objects. </p>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00068">68</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<a id="ga3da3300df4b568e5d40c99facffa0069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3da3300df4b568e5d40c99facffa0069">&#9670;&nbsp;</a></span>oc_hash_header_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structch__oc__hash__header.html">ch_oc_hash_header</a> <a class="el" href="group__oslib__objchaches.html#ga3da3300df4b568e5d40c99facffa0069">oc_hash_header_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of an hash element header. </p>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00068">68</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<a id="gab521cefd6a7a67b1d972fc00f2f941f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab521cefd6a7a67b1d972fc00f2f941f9">&#9670;&nbsp;</a></span>oc_lru_header_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structch__oc__lru__header.html">ch_oc_lru_header</a> <a class="el" href="group__oslib__objchaches.html#gab521cefd6a7a67b1d972fc00f2f941f9">oc_lru_header_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of an LRU element header. </p>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00068">68</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<a id="ga259b80c134d102bf119c70c81bbe184d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga259b80c134d102bf119c70c81bbe184d">&#9670;&nbsp;</a></span>oc_object_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structch__oc__object.html">ch_oc_object</a> <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a cached object. </p>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00068">68</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<a id="ga7184c1f5abb0813e1bd86a34750b784c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7184c1f5abb0813e1bd86a34750b784c">&#9670;&nbsp;</a></span>objects_cache_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structch__objects__cache.html">ch_objects_cache</a> <a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a cache object. </p>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00068">68</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<a id="ga4ca267014e86fd0c4221d419669810e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ca267014e86fd0c4221d419669810e8">&#9670;&nbsp;</a></span>oc_readf_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* oc_readf_t) (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp, bool async)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object read function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>requests an asynchronous operation if supported, the function is then responsible for releasing the object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00098">98</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<a id="ga92d757f063c0a8b4bc663694323801df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92d757f063c0a8b4bc663694323801df">&#9670;&nbsp;</a></span>oc_writef_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* oc_writef_t) (<a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *ocp, <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *objp, bool async)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object write function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>requests an asynchronous operation if supported, the function is then responsible for releasing the object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00110">110</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf141f01c4977b04022dc45e51d67bea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf141f01c4977b04022dc45e51d67bea3">&#9670;&nbsp;</a></span>hash_get_s()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a>* hash_get_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an object pointer from the cache, if present. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure to be </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group</td><td>object group identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>object identifier within the group initialized </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the retrieved object. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if the object is not in cache.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00134">134</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="structch__objects__cache.html#a7dad2f6b634a68fabfd9c76269dce0aa">ch_objects_cache::hashp</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__oslib__objchaches.html#ga54a287fa5e7dbc735d7b04602f1cfc52">chCacheGetObject()</a>.</p>

</div>
</div>
<a id="gaa34cea589fdb1b400b6d6739eae9e613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa34cea589fdb1b400b6d6739eae9e613">&#9670;&nbsp;</a></span>lru_get_last_s()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a>* lru_get_last_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the least recently used object buffer from the LRU list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure to be </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the retrieved object.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00165">165</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="group__checks__assertions.html#ga05556bc6888b5ff5ec4edcaf4830addc">chDbgAssert</a>, <a class="el" href="group__semaphores.html#ga7ddfa2a780e98c87891e657867b49ab6">chSemWaitS()</a>, <a class="el" href="structch__objects__cache.html#afcc089c161e524b5d62dbe87b35ca743">ch_objects_cache::lru</a>, <a class="el" href="structch__oc__lru__header.html#a304d0ccb85c9a82341090dad18d8e592">ch_oc_lru_header::lru_prev</a>, <a class="el" href="structch__objects__cache.html#a88c366572b9de2a6d194263bb338afdc">ch_objects_cache::lru_sem</a>, and <a class="el" href="structch__oc__object.html#a362e23d5d101caec3945bb21407ba5e8">ch_oc_object::obj_flags</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__oslib__objchaches_gaa34cea589fdb1b400b6d6739eae9e613_cgraph.png" border="0" usemap="#agroup__oslib__objchaches_gaa34cea589fdb1b400b6d6739eae9e613_cgraph" alt=""/></div>
<map name="agroup__oslib__objchaches_gaa34cea589fdb1b400b6d6739eae9e613_cgraph" id="agroup__oslib__objchaches_gaa34cea589fdb1b400b6d6739eae9e613_cgraph">
<area shape="rect" title="Gets the least recently used object buffer from the LRU list." alt="" coords="5,77,100,101"/>
<area shape="rect" href="group__semaphores.html#ga7ddfa2a780e98c87891e657867b49ab6" title="Performs a wait operation on a semaphore." alt="" coords="148,77,239,101"/>
<area shape="rect" href="group__os__lists.html#ga873d4136fc77c2573fb0be0b1e46097d" title="Evaluates to true if the specified queue is empty." alt="" coords="291,5,414,29"/>
<area shape="rect" href="group__os__lists.html#ga4305cb15cf8763a6b6fa6b29d881c271" title="Evaluates to true if the specified queue is not empty." alt="" coords="287,53,419,77"/>
<area shape="rect" href="group__checks__assertions.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check." alt="" coords="289,101,416,125"/>
<area shape="rect" href="group__threads.html#ga2ab8fe216688d604f80c9ec6eddc96a5" title="Returns a pointer to the current thread_t." alt="" coords="301,149,404,173"/>
</map>
</div>

</div>
</div>
<a id="ga166f686a6f05a5e277a0fb1f391bebec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga166f686a6f05a5e277a0fb1f391bebec">&#9670;&nbsp;</a></span>chCacheObjectInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chCacheObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__os__structures.html#gac8c7a7592968de0dc5a8d6ebe7fa700e">ucnt_t</a>&#160;</td>
          <td class="paramname"><em>hashn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga3da3300df4b568e5d40c99facffa0069">oc_hash_header_t</a> *&#160;</td>
          <td class="paramname"><em>hashp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__os__structures.html#gac8c7a7592968de0dc5a8d6ebe7fa700e">ucnt_t</a>&#160;</td>
          <td class="paramname"><em>objn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>objsz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>objvp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga4ca267014e86fd0c4221d419669810e8">oc_readf_t</a>&#160;</td>
          <td class="paramname"><em>readf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga92d757f063c0a8b4bc663694323801df">oc_writef_t</a>&#160;</td>
          <td class="paramname"><em>writef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <code>objects_cache_t</code> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure to be initialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashn</td><td>number of elements in the hash table array, must be a power of two and not lower than <code>objn</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashp</td><td>pointer to the hash table as an array of <code>oc_hash_header_t</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objn</td><td>number of elements in the objects table array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objsz</td><td>size of elements in the objects table array, the minimum value is <code>sizeof (oc_object_t)</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objvp</td><td>pointer to the hash objects as an array of structures starting with an <code>oc_object_t</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">readf</td><td>pointer to an object reader function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">writef</td><td>pointer to an object writer function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00240">240</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="structch__objects__cache.html#a58ba17e2bb114b75a02e10da3bc159fa">ch_objects_cache::cache_sem</a>, <a class="el" href="group__checks__assertions.html#ga3d40b3669f5280264c24dae4a2565ff2">chDbgCheck</a>, <a class="el" href="group__semaphores.html#ga6c1812ffb36357295cd22670a10ff694">chSemObjectInit()</a>, <a class="el" href="structch__oc__hash__header.html#a7bb533c357fe545d40fdbe6d22cd8dde">ch_oc_hash_header::hash_next</a>, <a class="el" href="structch__oc__lru__header.html#a2594a7aa7c76ca1081f96b5742713625">ch_oc_lru_header::hash_next</a>, <a class="el" href="structch__oc__hash__header.html#a255bf1dd9bcae5a4feff8537df46b630">ch_oc_hash_header::hash_prev</a>, <a class="el" href="structch__oc__lru__header.html#a98b802872ceb42cd37f3861995d81587">ch_oc_lru_header::hash_prev</a>, <a class="el" href="structch__objects__cache.html#a7f14d94a3ee045ec98f818dd4441da9a">ch_objects_cache::hashn</a>, <a class="el" href="structch__objects__cache.html#a7dad2f6b634a68fabfd9c76269dce0aa">ch_objects_cache::hashp</a>, <a class="el" href="structch__objects__cache.html#afcc089c161e524b5d62dbe87b35ca743">ch_objects_cache::lru</a>, <a class="el" href="structch__oc__lru__header.html#a16b00fc1650d9893924fe9ec39b9f641">ch_oc_lru_header::lru_next</a>, <a class="el" href="structch__oc__lru__header.html#a304d0ccb85c9a82341090dad18d8e592">ch_oc_lru_header::lru_prev</a>, <a class="el" href="structch__objects__cache.html#a88c366572b9de2a6d194263bb338afdc">ch_objects_cache::lru_sem</a>, <a class="el" href="structch__oc__object.html#aeb75c9cd568dc5fd01d1d3fcd4dc37da">ch_oc_object::obj_sem</a>, <a class="el" href="structch__objects__cache.html#a7508d8b68d4074d2ad525c85a8b11109">ch_objects_cache::objn</a>, <a class="el" href="structch__objects__cache.html#a4e7cac2d29f19ca71ee062b0b3988c5a">ch_objects_cache::objvp</a>, <a class="el" href="structch__objects__cache.html#afa54a43b26abd85bcc797b1c9c8c4ce3">ch_objects_cache::readf</a>, and <a class="el" href="structch__objects__cache.html#a032b3de66087a4d17d971c669f3e1d91">ch_objects_cache::writef</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__oslib__objchaches_ga166f686a6f05a5e277a0fb1f391bebec_cgraph.png" border="0" usemap="#agroup__oslib__objchaches_ga166f686a6f05a5e277a0fb1f391bebec_cgraph" alt=""/></div>
<map name="agroup__oslib__objchaches_ga166f686a6f05a5e277a0fb1f391bebec_cgraph" id="agroup__oslib__objchaches_ga166f686a6f05a5e277a0fb1f391bebec_cgraph">
<area shape="rect" title="Initializes a objects_cache_t object." alt="" coords="5,5,127,29"/>
<area shape="rect" href="group__semaphores.html#ga6c1812ffb36357295cd22670a10ff694" title="Initializes a semaphore with the specified counter value." alt="" coords="175,5,285,29"/>
<area shape="rect" href="group__os__lists.html#ga24d4153abba7349bee36ba4d2c3de6a5" title="Queue initialization." alt="" coords="333,5,431,29"/>
</map>
</div>

</div>
</div>
<a id="ga54a287fa5e7dbc735d7b04602f1cfc52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54a287fa5e7dbc735d7b04602f1cfc52">&#9670;&nbsp;</a></span>chCacheGetObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> * chCacheGetObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves an object from the cache. </p>
<dl class="section note"><dt>Note</dt><dd>If the object is not in cache then the returned object is marked as <code>OC_FLAG_NOTSYNC</code> meaning that its data contains garbage and must be initialized.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group</td><td>object group identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>object identifier within the group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the retrieved object.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00303">303</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="group__checks__assertions.html#ga05556bc6888b5ff5ec4edcaf4830addc">chDbgAssert</a>, <a class="el" href="group__system.html#ga464ae8092ca266ea0abffeb4c5639c8e">chSysLock()</a>, <a class="el" href="group__oslib__objchaches.html#gaf141f01c4977b04022dc45e51d67bea3">hash_get_s()</a>, and <a class="el" href="structch__oc__object.html#a362e23d5d101caec3945bb21407ba5e8">ch_oc_object::obj_flags</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__oslib__objchaches_ga54a287fa5e7dbc735d7b04602f1cfc52_cgraph.png" border="0" usemap="#agroup__oslib__objchaches_ga54a287fa5e7dbc735d7b04602f1cfc52_cgraph" alt=""/></div>
<map name="agroup__oslib__objchaches_ga54a287fa5e7dbc735d7b04602f1cfc52_cgraph" id="agroup__oslib__objchaches_ga54a287fa5e7dbc735d7b04602f1cfc52_cgraph">
<area shape="rect" title="Retrieves an object from the cache." alt="" coords="5,57,128,81"/>
<area shape="rect" href="group__system.html#ga464ae8092ca266ea0abffeb4c5639c8e" title="Enters the kernel lock state." alt="" coords="178,33,257,57"/>
<area shape="rect" href="group__oslib__objchaches.html#gaf141f01c4977b04022dc45e51d67bea3" title="Returns an object pointer from the cache, if present." alt="" coords="176,81,259,105"/>
<area shape="rect" href="group__checks__assertions.html#ga794608d7f0c38eb90c3fb4b20113fe0b" title="Guard code for chSysLock()." alt="" coords="319,5,437,29"/>
<area shape="rect" href="group__statistics.html#gae3916145b9c85a6866d0c4f075cb1e63" title="Starts the measurement of a thread critical zone." alt="" coords="307,54,449,90"/>
</map>
</div>

</div>
</div>
<a id="ga788c5c3b16f83849975e8c6abf5e2d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga788c5c3b16f83849975e8c6abf5e2d7d">&#9670;&nbsp;</a></span>chCacheReleaseObjectI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chCacheReleaseObjectI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td>
          <td class="paramname"><em>objp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases an object into the cache. </p>
<dl class="section note"><dt>Note</dt><dd>This function gives a meaning to the following flags:<ul>
<li><code>OC_FLAG_INLRU</code> must be cleared.</li>
<li><code>OC_FLAG_INHASH</code> must be set.</li>
<li><code>OC_FLAG_SHARED</code> must be cleared.</li>
<li><code>OC_FLAG_NOTSYNC</code> invalidates the object and queues it on the LRU tail.</li>
<li><code>OC_FLAG_LAZYWRITE</code> is ignored and kept, a write will occur when the object is removed from the LRU list (lazy write).</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objp</td><td>pointer to the <code>oc_object_t</code> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00378">378</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="group__checks__assertions.html#ga05556bc6888b5ff5ec4edcaf4830addc">chDbgAssert</a>, and <a class="el" href="structch__oc__object.html#a362e23d5d101caec3945bb21407ba5e8">ch_oc_object::obj_flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__oslib__objchaches.html#gab6d32867a94583b0352d1dbadad38898">chCacheReleaseObject()</a>.</p>

</div>
</div>
<a id="ga105576c78186685ce2ea7d71769ecca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga105576c78186685ce2ea7d71769ecca4">&#9670;&nbsp;</a></span>chCacheReadObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chCacheReadObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td>
          <td class="paramname"><em>objp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads object data from the storage. </p>
<dl class="section note"><dt>Note</dt><dd>In case of asynchronous operation an error condition is not reported by this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objp</td><td>pointer to the <code>oc_object_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>requests an asynchronous operation if supported, the function is then responsible for releasing the object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. In case of asynchronous operation <code>false</code> is always returned. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if the operation succeeded. </td></tr>
    <tr><td class="paramname">true</td><td>if the synchronous read operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00448">448</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="structch__oc__object.html#a362e23d5d101caec3945bb21407ba5e8">ch_oc_object::obj_flags</a>.</p>

</div>
</div>
<a id="ga3631a5266044d18aa4365e946a9c379f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3631a5266044d18aa4365e946a9c379f">&#9670;&nbsp;</a></span>chCacheWriteObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chCacheWriteObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td>
          <td class="paramname"><em>objp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the object data back to storage. </p>
<dl class="section note"><dt>Note</dt><dd>In case of asynchronous operation an error condition is not reported by this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objp</td><td>pointer to the <code>oc_object_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>requests an asynchronous operation if supported, the function is then responsible for releasing the object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. In case of asynchronous operation <code>false</code> is always returned. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if the operation succeeded. </td></tr>
    <tr><td class="paramname">true</td><td>if the synchronous write operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8c_source.html#l00477">477</a> of file <a class="el" href="chobjcaches_8c_source.html">chobjcaches.c</a>.</p>

<p class="reference">References <a class="el" href="structch__oc__object.html#a362e23d5d101caec3945bb21407ba5e8">ch_oc_object::obj_flags</a>.</p>

</div>
</div>
<a id="gab6d32867a94583b0352d1dbadad38898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6d32867a94583b0352d1dbadad38898">&#9670;&nbsp;</a></span>chCacheReleaseObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void chCacheReleaseObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga7184c1f5abb0813e1bd86a34750b784c">objects_cache_t</a> *&#160;</td>
          <td class="paramname"><em>ocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__oslib__objchaches.html#ga259b80c134d102bf119c70c81bbe184d">oc_object_t</a> *&#160;</td>
          <td class="paramname"><em>objp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases an object into the cache. </p>
<dl class="section note"><dt>Note</dt><dd>This function gives a meaning to the following flags:<ul>
<li><code>OC_FLAG_INLRU</code> must be cleared.</li>
<li><code>OC_FLAG_INHASH</code> must be set.</li>
<li><code>OC_FLAG_SHARED</code> must be cleared.</li>
<li><code>OC_FLAG_NOTSYNC</code> invalidates the object and queues it on the LRU tail.</li>
<li><code>OC_FLAG_LAZYWRITE</code> is ignored and kept, a write will occur when the object is removed from the LRU list (lazy write).</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocp</td><td>pointer to the <code>objects_cache_t</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objp</td><td>pointer to the <code>oc_object_t</code> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p class="definition">Definition at line <a class="el" href="chobjcaches_8h_source.html#l00295">295</a> of file <a class="el" href="chobjcaches_8h_source.html">chobjcaches.h</a>.</p>

<p class="reference">References <a class="el" href="group__oslib__objchaches.html#ga788c5c3b16f83849975e8c6abf5e2d7d">chCacheReleaseObjectI()</a>, <a class="el" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20">chSchRescheduleS()</a>, <a class="el" href="group__system.html#ga464ae8092ca266ea0abffeb4c5639c8e">chSysLock()</a>, and <a class="el" href="group__system.html#gae3429d88fe6a75de02af1a089b9f620b">chSysUnlock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__oslib__objchaches_gab6d32867a94583b0352d1dbadad38898_cgraph.png" border="0" usemap="#agroup__oslib__objchaches_gab6d32867a94583b0352d1dbadad38898_cgraph" alt=""/></div>
<map name="agroup__oslib__objchaches_gab6d32867a94583b0352d1dbadad38898_cgraph" id="agroup__oslib__objchaches_gab6d32867a94583b0352d1dbadad38898_cgraph">
<area shape="rect" title="Releases an object into the cache." alt="" coords="5,77,153,101"/>
<area shape="rect" href="group__oslib__objchaches.html#ga788c5c3b16f83849975e8c6abf5e2d7d" title="Releases an object into the cache." alt="" coords="201,5,352,29"/>
<area shape="rect" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20" title="Performs a reschedule if a higher priority thread is runnable." alt="" coords="213,53,340,77"/>
<area shape="rect" href="group__system.html#ga464ae8092ca266ea0abffeb4c5639c8e" title="Enters the kernel lock state." alt="" coords="237,101,316,125"/>
<area shape="rect" href="group__system.html#gae3429d88fe6a75de02af1a089b9f620b" title="Leaves the kernel lock state." alt="" coords="231,211,322,235"/>
<area shape="rect" href="group__scheduler.html#gaf4acc2ac7465a14dacba248c8447369a" title="Switches to the first thread on the runnable queue." alt="" coords="400,5,557,29"/>
<area shape="rect" href="group__checks__assertions.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check." alt="" coords="415,53,542,77"/>
<area shape="rect" href="group__checks__assertions.html#ga794608d7f0c38eb90c3fb4b20113fe0b" title="Guard code for chSysLock()." alt="" coords="420,101,537,125"/>
<area shape="rect" href="group__statistics.html#gae3916145b9c85a6866d0c4f075cb1e63" title="Starts the measurement of a thread critical zone." alt="" coords="407,150,550,186"/>
<area shape="rect" href="group__checks__assertions.html#ga329d7f08bd28259ea79839a61abf8a7a" title="Guard code for chSysUnlock()." alt="" coords="413,211,544,235"/>
<area shape="rect" href="group__statistics.html#gad42de44c4b5fabeeb849da71ee1d4b72" title="Stops the measurement of a thread critical zone." alt="" coords="408,259,549,295"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jan 26 2022 09:35:23 for ChibiOS/RT by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
